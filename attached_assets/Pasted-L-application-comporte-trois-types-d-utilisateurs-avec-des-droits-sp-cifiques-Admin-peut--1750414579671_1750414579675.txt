Lâ€™application comporte trois types dâ€™utilisateurs avec des droits spÃ©cifiques :

ğŸ‘¨â€ğŸ’¼ Admin : peut ajouter, modifier, supprimer tous les Ã©lÃ©ments de la base de donnÃ©es y compris les utilisateurs.

ğŸ§‘â€ğŸ”§ IngÃ©nieur BiomÃ©dical : peut ajouter, modifier, supprimer les donnÃ©es dans le module Inventaire et dans StÃ©rilisation (dÃ©sinfection).

ğŸ§¼ Agent de StÃ©rilisation : peut ajouter, modifier, supprimer les donnÃ©es du module de dÃ©sinfection / archivage.

âš ï¸ ProblÃ¨mes actuels :
Quand un biomedical engineer ou agent de stÃ©rilisation tente de modifier ou supprimer, des erreurs sâ€™affichent :

â€œErreur lors de la suppressionâ€

â€œErreur lors de la mise Ã  jourâ€
Ils devraient pourtant avoir ces droits. Merci de corriger la gestion des permissions et les erreurs liÃ©es.

ğŸ“¦ Structure des donnÃ©es Ã  respecter dans la table sterilisation_reports
1. ğŸ§¾ Informations GÃ©nÃ©rales
nom_operateur

endoscope

numero_serie

medecin_responsable

2. ğŸ’§ DÃ©sinfection
(niveau de dÃ©sinfection avec sous-champs)

date_desinfection

type_desinfection â†’ manuel / automatique

cycle â†’ complet / incomplet

test_etancheite â†’ rÃ©ussi / Ã©chouÃ©

heure_debut

heure_fin

3. ğŸ¥ ProcÃ©dure MÃ©dicale
procedure_medicale

salle

type_acte

4. âš™ï¸ Ã‰tat d'utilisation
etat_endoscope â†’ fonctionnel / en panne

nature_panne (optionnel si en panne)

ğŸ”§ Ce que je souhaite :
Une table SQL bien structurÃ©e (init.sql ou Ã©quivalent) avec ces champs correctement organisÃ©s.

La gestion des permissions corrigÃ©e dans lâ€™application :

Lâ€™admin peut tout modifier.

Le biomÃ©dical peut modifier/dÃ©truire l'inventaire et les rapports de stÃ©rilisation.

Lâ€™agent de stÃ©rilisation peut modifier/dÃ©truire les archives de dÃ©sinfection uniquement.

Une gestion des erreurs claire :

Si un utilisateur nâ€™a pas les droits : â€œâŒ Vous nâ€™avez pas lâ€™autorisation de modifier cet Ã©lÃ©ment.â€

Sinon : afficher la vraie erreur SQL ou logique (log ou alert visible).

Interface en Streamlit permettant :

Lâ€™ajout des rapports de stÃ©rilisation

La visualisation en tableau avec filtre par date, Ã©tat ou opÃ©rateur

Lâ€™Ã©dition/suppression conditionnÃ©e au rÃ´le utilisateur